<!-- video_list.html -->

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Video List</title>
</head>
<body>

<h1>Video List</h1>

<table border="1">
  <thead>
    <tr>
      <th>Video ID</th>
      <th>User ID</th>
      <th>Username</th>
      <th>Description</th>
      <th>Likes</th>
      <th>URL</th>
    </tr>
  </thead>
  <tbody>
    {% for video in videos %}
    <tr>
      <td>{{ video.id }}</td>
      <td>{{ video.user_id }}</td>
      <td>{{ video.user_name }}</td>
      <td>{{ video.description }}</td>
      <td>{{ video.likes }}</td>
      <td>{{ video.video_url }}</td>
      <td>
        <video controls>
            <source src="{{ video.video_url }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
      </td>
    
      <td>
        <form action="{% url 'delete_video' video.id %}" method="POST">
          {% csrf_token %}
          <input type="submit" value="Delete Video" onclick="return confirm('Are you sure you want to delete this video?')">
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<a href="{% url 'admin_home' %}">
    <button>Back to Admin Home</button>
</a>
</body>
</html>